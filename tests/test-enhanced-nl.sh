#!/bin/bash

# Test script for enhanced natural language processing
# This demonstrates the improved input understanding capabilities

echo "ğŸ¦™ ERPNext Enhanced Natural Language Processing Test"
echo "=================================================="
echo

echo "ğŸ¯ Testing Natural Language Input Preprocessing:"
echo

# Test casual greetings
echo "ğŸ’¬ CASUAL INPUTS â†’ BUSINESS QUERIES:"
echo "   Input: \"what's up\""
echo "   âœ Preprocessed: \"Give me a portfolio dashboard overview with current status and key metrics\""
echo

echo "   Input: \"any problems\""
echo "   âœ Preprocessed: \"What are the current risks, issues, and problems I should know about across all projects?\""
echo

echo "   Input: \"everything ok\""
echo "   âœ Preprocessed: \"Are there any projects, budgets, or timelines that need my attention?\""
echo

# Test business queries
echo "ğŸ“Š BUSINESS LANGUAGE â†’ SMART ANALYSIS:"
echo "   Input: \"money situation\""
echo "   âœ Preprocessed: \"Show me financial performance including budget variance, spending, and profitability analysis\""
echo

echo "   Input: \"behind schedule\""
echo "   âœ Preprocessed: \"Which projects are behind schedule and what are the root causes, implications, and recommended actions?\""
echo

echo "   Input: \"team busy\""
echo "   âœ Preprocessed: \"Show me team resource allocation, workload distribution, and capacity analysis\""
echo

# Test creative language
echo "ğŸ¨ CREATIVE LANGUAGE â†’ BUSINESS INTELLIGENCE:"
echo "   Input: \"give me the scoop\""
echo "   âœ Enhanced: \"Give me the scoop (Please provide business insights and actionable recommendations)\""
echo

echo "   Input: \"bottom line\""
echo "   âœ Enhanced: \"Bottom line (Please provide business insights and actionable recommendations)\""
echo

echo "   Input: \"real talk\""
echo "   âœ Enhanced: \"Real talk (Please provide business insights and actionable recommendations)\""
echo

# Test project patterns
echo "ğŸ—ï¸ PROJECT PATTERN RECOGNITION:"
echo "   Input: \"villa project\""
echo "   âœ Preprocessed: \"Show me detailed project information for villa project including status, timeline, budget, team assignments, and any risks or issues\""
echo

echo "   Input: \"proj123\""
echo "   âœ Preprocessed: \"Show me detailed information about proj123 including status, timeline, budget, team, and any risks\""
echo

echo "âœ¨ Key Enhanced Features:"
echo "========================"
echo "âœ… 40+ informal language mappings"
echo "âœ… Smart pattern recognition for business terms"
echo "âœ… Context-aware query enhancement"
echo "âœ… Creative language interpretation"
echo "âœ… Project name pattern detection"
echo "âœ… Time-sensitive query handling"
echo "âœ… Financial and resource pattern matching"
echo "âœ… Risk and problem identification"
echo

echo "ğŸ¯ System Intelligence:"
echo "======================"
echo "â€¢ Understands casual conversation (\"what's up\", \"any problems\")"
echo "â€¢ Recognizes business intent from informal language"
echo "â€¢ Enhances vague queries with business context"
echo "â€¢ Maps creative expressions to business functions"
echo "â€¢ Detects project references and expands context"
echo "â€¢ Provides comprehensive query preprocessing"
echo

echo "ğŸš€ Ready to Test!"
echo "================"
echo "Start the client with: ./bin/ollama-client --model llama3.1"
echo "Then try these natural language queries:"
echo "â€¢ \"What's up?\""
echo "â€¢ \"Any problems?\""
echo "â€¢ \"Money situation?\""
echo "â€¢ \"Give me the scoop\""
echo "â€¢ \"Villa project status?\""
echo
